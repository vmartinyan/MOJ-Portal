var Kopa_UI,Kopa_UI_DateTime,Kopa_UI_Gallery,Kopa_UI_Icon,Kopa_UI_Gallery_Sortable,Kopa_UI_Image,Kopa_UI_Repeater,Kopa_UI_Repeater_Link,Kopa_UI_Chosen,Kopa_UI_Icon_Picker,$kopa_icon_picker_activated,$kopa_gallery_sortable_uploader,$kopa_gallery_iframe,$kopa_gallery_button;jQuery(document).ready(function(){Kopa_UI.init()}),jQuery(document).ajaxSuccess(function(){Kopa_UI.init()});var Kopa_UI={init:function(){Kopa_UI_DateTime.init(),Kopa_UI_Image.init(),Kopa_UI_Gallery.init(),Kopa_UI_Gallery_Sortable.init(),Kopa_UI_Icon.init(),Kopa_UI_Icon_Picker.init(),Kopa_UI_Repeater.init(),Kopa_UI_Repeater_Link.init(),Kopa_UI_Chosen.init(),Kopa_UI_Radio_Image.init(),Kopa_UI_Link.init(),Kopa_UI_Group.init()}},Kopa_UI_DateTime={init:function(){jQuery(".kopa-framework-datetime").length>0&&jQuery(".kopa-framework-datetime").each(function(e,a){if(!jQuery(a).hasClass("kopa-framework-datetime--activated")){var i=parseInt(jQuery(a).attr("data-timepicker"),10),t=parseInt(jQuery(a).attr("data-datepicker"),10);i=1==i?!0:!1,t=1==t?!0:!1,jQuery(a).datetimepicker({lang:"en",timepicker:i,datepicker:t,format:jQuery(a).attr("data-format"),i18n:{en:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"]}}}),jQuery(a).addClass("kopa-framework-datetime--activated")}})}},Kopa_UI_Gallery={init:function(){jQuery(".kopa-framework-gallery-box").on("click",".kopa-framework-gallery-config",function(e){return e.preventDefault(),$kopa_gallery_button=jQuery(this),$kopa_gallery_iframe?($kopa_gallery_iframe.open(),void 0):($kopa_gallery_iframe=wp.media.frames.$kopa_gallery_iframe=wp.media({title:"Gallery config",button:{text:"Use"},library:{type:"image"},multiple:!0}),$kopa_gallery_iframe.on("open",function(){var e,a;e=$kopa_gallery_button.parents(".kopa-framework-gallery-box").find("input.kopa-framework-gallery").val(),""!==e&&(a=$kopa_gallery_iframe.state().get("selection"),e=e.split(","),jQuery(e).each(function(e,i){var t;t=wp.media.attachment(i),t.fetch(),a.add(t?[t]:[])}))}),$kopa_gallery_iframe.on("select",function(){var e,a;e=[],a=$kopa_gallery_iframe.state().get("selection"),a.map(function(a){a=a.toJSON(),e.push(a.id)}),e.length>0&&(e=e.join(","),$kopa_gallery_button.parents(".kopa-framework-gallery-box").find("input.kopa-framework-gallery").val(e))}),$kopa_gallery_iframe.open(),void 0)})}},Kopa_UI_Icon={init:function(){jQuery(".kopa-icon-picker").length>0&&jQuery(".kopa-icon-picker").click(function(e){var a;e.preventDefault(),a=jQuery(this),1!==jQuery(Kopa_UI_Icon.get_id("#")).length?(jQuery("body").append('<div id="'+Kopa_UI_Icon.get_id("")+'" class="upside-hide"></div>'),jQuery.ajax({beforeSend:function(){},success:function(e){jQuery(Kopa_UI_Icon.get_id("#")).html(e)},complete:function(){Kopa_UI_Icon.open_lighbox(a)},url:kopa_advanced_field.ajax_url,dataType:"html",type:"GET",async:!1,data:{action:"get_lighbox_icons"}})):Kopa_UI_Icon.open_lighbox(a)})},open_lighbox:function(e){jQuery(Kopa_UI_Icon.get_id("#")).dialog({width:360,height:480,modal:!0,closeText:'<i class="dashicons dashicons-dismiss"></i>',title:kopa_advanced_field.translate.icon_picker,buttons:[{text:"Select","class":"kopa-ui-button-use button button-primary",click:function(){var a;a=Kopa_UI_Icon.click_ok(),e.parent().find(".kopa-icon-picker-value").val(a),e.parent().find(".kopa-icon-picker-preview i").attr("class",a)}}]})},click_ok:function(){var e;return e=jQuery(Kopa_UI_Icon.get_id("#")).find(".kopa-icon-item.upside-active i").attr("class"),jQuery(Kopa_UI_Icon.get_id("#")).dialog("close"),e},select_a_icon:function(e,a){e.preventDefault(),a.parents(".kopa-wrap").find(".kopa-icon-item").removeClass("upside-active"),a.addClass("upside-active")},filter_icons:function(e,a){var i,t,o;return e.preventDefault(),o=a.parents(".kopa-list-of-icon"),(i=a.val())?(t=new RegExp(i,"i"),o.find(".kopa-icon-item i").each(function(){jQuery(this).data("title").search(t)<0?jQuery(this).parent().hide():jQuery(this).parent().show()}),void 0):(o.find(".kopa-icon-item").show(),!1)},get_id:function(e){return e+"kopa_advanced_field_lighbox_icons"}},Kopa_UI_Gallery_Sortable={init:function(){$galleries=jQuery("div.kopa-ui-gallery"),$galleries.length&&$galleries.map(function(){var e=jQuery(this);e.hasClass("kopa-ui-gallery--activated")||(Kopa_UI_Gallery_Sortable._init_sortable(e.find("ul").first()),e.on("click",".kopa-ui-gallery__upload",function(e){Kopa_UI_Gallery_Sortable._edit(e,jQuery(this))}),e.on("click",".kopa-ui-gallery__remove",function(e){Kopa_UI_Gallery_Sortable._remove(e,jQuery(this))}),e.addClass("kopa-ui-gallery--activated"))})},_edit:function(e,a){return e.preventDefault(),$wrap=a.parents(".kopa-ui-gallery"),$sortable=$wrap.find("ul").first(),$inputs=$wrap.find('input[type="hidden"]'),$previews=$wrap.find("img"),$gallery_name=$wrap.attr("data-name"),$kopa_gallery_sortable_uploader?($kopa_gallery_sortable_uploader.open(),void 0):($kopa_gallery_sortable_uploader=wp.media.frames.$kopa_gallery_sortable_uploader=wp.media({title:"Uploader",$button:{text:"Select"},library:{type:"image"},multiple:!0}),$kopa_gallery_sortable_uploader.on("open",function(){$inputs.length&&(selection=$kopa_gallery_sortable_uploader.state().get("selection"),jQuery.each($inputs,function(){var e=wp.media.attachment(parseInt(jQuery(this).val()));e.fetch(),selection.add(e)}))}),$kopa_gallery_sortable_uploader.on("select",function(){var e=[],a=$kopa_gallery_sortable_uploader.state().get("selection");a.map(function(a){a=a.toJSON(),e.push([a.id,a.sizes.thumbnail.url])}),console.log(e),e.length&&($sortable.html(""),e.map(function(e){$html=Kopa_UI_Gallery_Sortable._build_single($gallery_name,e[0],e[1]),$sortable.append(jQuery($html))}))}),$kopa_gallery_sortable_uploader.open(),void 0)},_remove:function(e,a){e.preventDefault(),a.parents(".kopa-ui-gallery__image").remove()},_build_single:function(e,a,i){return $html='<li class="kopa-ui-gallery__image">',$html+='<input type="hidden" value="'+a+'" name="'+e+'[]">',$html+='<img alt="" src="'+i+'">',$html+='<span class="kopa-ui-gallery__remove dashicons dashicons-trash">',$html+="</span>",$html+="</li>"},_init_sortable:function(e){e.sortable({containment:"parent"}),e.disableSelection()}},Kopa_UI_Image={frame:{},init:function(){jQuery(".kopa-field-image").on("click",".item-add",function(e){e.preventDefault();var a=jQuery(this),i=a.next("input").attr("id");return Kopa_UI_Image.frame[i]?(Kopa_UI_Image.frame[i].open(),void 0):(Kopa_UI_Image.frame[i]=wp.media.frames.file_frame=wp.media({title:"Add Image",button:{text:"Add Image"},library:{type:"image"},multiple:!1}),Kopa_UI_Image.frame[i].on("select",function(){var e=Kopa_UI_Image.frame[i].state().get("selection").first().toJSON(),t=e.sizes.thumbnail;e.sizes.hasOwnProperty("full")&&(t=e.sizes.full),a.html('<div class="img" style="background-image:url('+t.url+')"></div>'),a.next("input").val(e.id),a.parent().addClass("hasimage")}),Kopa_UI_Image.frame[i].open(),void 0)}),jQuery(document).on("click",".kopa-field-image .item-remove",function(e){jQuery(this).parent().find(".item-add").empty(),jQuery(this).prev("input").val(""),jQuery(this).parent().removeClass("hasimage"),e.preventDefault()})}},Kopa_UI_Repeater={init:function(){var e;e=jQuery(".kopa-ui-repeater"),e.length&&jQuery.each(e,function(){var e;e=jQuery(this),e.hasClass("kopa-ui-repeater--activated")||(e.on("click",".kopa-repeater-edit",function(){var e;e=jQuery(this).parents(".kopa-repeater-group"),e.find(".kopa-repeater-item-content").is(":hidden")?e.addClass("kopa-repeater-group--open"):e.removeClass("kopa-repeater-group--open")}),e.on("keyup",".kopa-repeater-input-key",function(){var e,a,i;a=jQuery(this).val(),a=""===jQuery.trim(a)?kopa_advanced_field.translate.untitle:jQuery("<div>"+a+"</div>").text(),i=jQuery(this).parents(".kopa-repeater-group"),e=i.find("> label > span"),e.text(a)}),e.find(".kopa-ui-repeater-container").sortable(),e.find(".kopa-ui-repeater-container").repeatable({addTrigger:e.find(".kopa-repeater-add"),deleteTrigger:".kopa-repeater-delete",template:e.attr("data-id"),itemContainer:".kopa-repeater-group"}),e.addClass("kopa-ui-repeater--activated"))})}},Kopa_UI_Repeater_Link={init:function(){var e;e=jQuery(".kopa-ui-repeater-links"),e.length&&jQuery.each(e,function(){var e;e=jQuery(this),e.hasClass("kopa-ui-repeater-links--activated")||(e.on("click",".kopa-repeater-edit",function(){var e;e=jQuery(this).parents(".kopa-repeater-group"),e.find(".kopa-repeater-item-content").is(":hidden")?e.addClass("kopa-repeater-group--open"):e.removeClass("kopa-repeater-group--open")}),e.on("keyup",".kopa-repeater-input-title",function(){var e,a,i;a=jQuery(this).val(),a=""===jQuery.trim(a)?kopa_advanced_field.translate.untitle:jQuery("<div>"+a+"</div>").text(),i=jQuery(this).parents(".kopa-repeater-group"),e=i.find("> label > span"),e.text(a)}),e.find(".kopa-ui-repeater-container").sortable(),e.find(".kopa-ui-repeater-container").repeatable({addTrigger:e.find(".kopa-repeater-add"),deleteTrigger:".kopa-repeater-delete",template:e.attr("data-id"),itemContainer:".kopa-repeater-group",afterAdd:function(){Kopa_UI_Icon_Picker.init()}}),e.addClass("kopa-ui-repeater-links--activated"))})}},Kopa_UI_Chosen={init:function(){var e;e=jQuery(".kopa-ui-chosen select"),e.length&&jQuery.each(e,function(){$cbo=jQuery(this),$cbo.hasClass("kopa-ui-chosen--activated")||($cbo.chosen({allow_single_deselect:!0,width:$cbo.attr("data-width")}),$cbo.addClass("kopa-ui-chosen--activated"))})}},Kopa_UI_Icon_Picker={init:function(){var e;e=jQuery(".kopa-ui-icon-picker"),e.length&&jQuery.each(e,function(){$_icon_pickers=jQuery(this),$_icon_pickers.hasClass("kopa-ui-icon-picker--activated")||($_icon_pickers.on("click",".kopa-ui-icon-picker-add",function(){var e;e=jQuery(this),$kopa_icon_picker_activated=e.parents(".kopa-ui-icon-picker"),Kopa_UI_Icon_Picker._getBoxObject().length||(Kopa_UI_Icon_Picker._build_picker(),Kopa_UI_Icon_Picker._init_dialog()),Kopa_UI_Icon_Picker._add(e)}),$_icon_pickers.addClass("kopa-ui-icon-picker--activated"))})},_getBoxObject:function(){return jQuery("#"+Kopa_UI_Icon_Picker._getBoxId())},_getBoxId:function(){return"tmpl-kopa-icon-picker"},_add:function(){var e;e=Kopa_UI_Icon_Picker._getBoxObject(),e.hasClass("ui-dialog-content")&&e.dialog("open")},_build_picker:function(){var e,a,i,t,o;i=Kopa_UI_Icon_Picker._getBoxId(),e=$kopa_icon_picker_activated.length&&void 0!==$kopa_icon_picker_activated?$kopa_icon_picker_activated.find("input").val():!1,a='<div id="'+i+'"><div class="kopa-ui__header"><input type="text" class="kopa-ui__search" onkeyup="Kopa_UI_Icon_Picker._search( jQuery(this) );"></div><div class="kopa-ui__body"></div></div>',jQuery("body").append(a),t=Kopa_UI_Icon_Picker._getBoxObject(),o=t.find(".kopa-ui__body"),_.each(kopa_advanced_field.icon_picker.fonts,function(a){jQuery.getJSON(a.file,null,function(i,t){"success"===t&&_.each(i,function(i){var t,n;n=i.selector,t=n.split(","),_.each(t,function(i){i=_.unescape(jQuery.trim(i.replace(":before","")).substring(1)),a.prefix&&(i=a.prefix+" "+i),e&&i===e&&(i+=" kopa-ui__active"),o.append('<span><i class="'+i+'"></i></span>')})})})}),o.on("click","i",function(e){var a;e.preventDefault(),jQuery(this).hasClass("kopa-ui__active")||(a=jQuery(this).parents(".kopa-ui__body"),a.find("i").removeClass("kopa-ui__active")),jQuery(this).toggleClass("kopa-ui__active")})},_init_dialog:function(){var e;e=Kopa_UI_Icon_Picker._getBoxObject(),e.dialog({title:kopa_advanced_field.icon_picker.label.icon_picker,dialogClass:"kopa-ui-dialog kopa-ui-hide-title",closeText:'<i class="dashicons dashicons-dismiss"></i>',width:400,height:400,modal:!0,closeOnEscape:!1,resizable:!1,autoOpen:!1,buttons:[{text:kopa_advanced_field.icon_picker.label.remove,"class":"kopa-ui-button-remove button button-link button-remove",click:function(){e.dialog("close"),$kopa_icon_picker_activated.find("input").val(""),$kopa_icon_picker_activated.find("i").attr("class",""),$kopa_icon_picker_activated.find(".kopa-ui-icon-picker-add").text(kopa_advanced_field.icon_picker.label.add),Kopa_UI_Icon_Picker._clear()}},{text:kopa_advanced_field.icon_picker.label.cancel,"class":"kopa-ui-button-cancel button button-secondary",click:function(){e.dialog("close"),Kopa_UI_Icon_Picker._clear()}},{text:kopa_advanced_field.icon_picker.label.use,"class":"kopa-ui-button-use button button-primary",click:function(){var a,i;$kopa_icon_picker_activated.length&&void 0!==$kopa_icon_picker_activated&&(a=e.find(".kopa-ui__active"),i=a.length?jQuery.trim(a.attr("class").replace("kopa-ui__active","")):"",$kopa_icon_picker_activated.toggleClass("kopa-state-added"),$kopa_icon_picker_activated.find(".kopa-ui-icon-picker-add").text(kopa_advanced_field.icon_picker.label.edit),$kopa_icon_picker_activated.find("i").attr("class",i),$kopa_icon_picker_activated.find("input").val(i)),e.dialog("close"),Kopa_UI_Icon_Picker._clear()}}]})},_search:function(e){var a,i,t,o;i=Kopa_UI_Icon_Picker._getBoxObject(),t=i.find(".kopa-ui__body"),o=e.val(),o?(a=new RegExp(o,"i"),t.find("i").each(function(){jQuery(this).attr("class").search(a)<0?jQuery(this).parent().hide():jQuery(this).parent().show()})):t.find("i").parent().show()},_clear:function(){var e;$kopa_icon_picker_activated=void 0,e=Kopa_UI_Icon_Picker._getBoxObject(),e.find(".kopa-ui__search").val(""),e.find(".kopa-ui__body span").show(),e.find(".kopa-ui__body i.kopa-ui__active").removeClass("kopa-ui__active")}},Kopa_UI_Radio_Image={init:function(){var e=jQuery(".kp-ui-radio-image-container");e.length&&jQuery.each(e,function(){jQuery(this).hasClass("kopa-ui-radio-image--activated")||(jQuery(this).on("click",".kp-ui-radio-image-label",function(){jQuery(this).hasClass("kp-state-checked")||($container=jQuery(this).parents(".kp-ui-radio-image-container"),$container.find(".kp-ui-radio-image-label.kp-state-checked").removeClass("kp-state-checked"),jQuery(this).addClass("kp-state-checked"))}),jQuery(this).addClass("kopa-ui-radio-image--activated"))})}},Kopa_UI_Link={init:function(){jQuery(document).on("click",".kopa-field-link .link_button",function(e){e.preventDefault();var a,i,t,o,n,r,l,p,c;a=jQuery(this).closest(".kopa-field-link"),i=a.find("input.kopa_value"),t=a.find(".url-label"),o=a.find(".title-label"),n=i.data("json"),r=jQuery("#wp-link-submit"),l=jQuery('<input type="button" name="kopa_link-submit" id="kopa_link-submit" class="button-primary" value="Set Link">'),r.hide(),jQuery("#kopa_link-submit").remove(),l.insertBefore(r),p=jQuery('<div class="link-target kopa-link-nofollow"><label><span></span> <input type="checkbox" id="kopa-link-nofollow"> Add nofollow option to link</label></div>'),jQuery("#link-options .kopa-link-nofollow").remove(),p.insertAfter(jQuery("#link-options .link-target")),setTimeout(function(){var e=jQuery("#most-recent-results").css("top");jQuery("#most-recent-results").css("top",parseInt(e)+p.height())},200),c=window.wpLink,c.open("content"),_.isString(n.href)&&(jQuery("#wp-link-url").length?jQuery("#wp-link-url").val(n.href):jQuery("#url-field").val(n.href)),_.isString(n.title)&&(jQuery("#wp-link-text").length?jQuery("#wp-link-text").val(n.title):jQuery("#link-title-field").val(n.title)),jQuery("#wp-link-target").length?jQuery("#wp-link-target").prop("checked",!_.isEmpty(n.target)):jQuery("#link-target-checkbox").prop("checked",!_.isEmpty(n.target)),jQuery("#kopa-link-nofollow").length&&jQuery("#kopa-link-nofollow").prop("checked",!_.isEmpty(n.rel)),l.unbind("click.kopaLink").bind("click.kopaLink",function(e){e.preventDefault(),e.stopImmediatePropagation();var a,n={};n.href=jQuery("#wp-link-url").length?jQuery("#wp-link-url").val():jQuery("#url-field").val(),n.title=jQuery("#wp-link-text").length?jQuery("#wp-link-text").val():jQuery("#link-title-field").val();var p=jQuery(jQuery("#wp-link-target").length?"#wp-link-target":"#link-target-checkbox");return n.target=p[0].checked?" _blank":"",n.rel=jQuery("#kopa-link-nofollow")[0].checked?"nofollow":"",a=_.map(n,function(e,a){return _.isString(e)&&0<e.length?a+":"+encodeURIComponent(e):void 0}).join("|"),i.val(a).change(),i.data("json",n),t.html(n.href+n.target),o.html(n.title),c.close("noReset"),window.wpLink.textarea="",r.show(),l.unbind("click.kopaLink"),l.remove(),jQuery("#wp-link-cancel").unbind("click.kopaLink"),p.attr("checked",!1),jQuery("#most-recent-results").css("top",""),jQuery("#kopa-link-nofollow").attr("checked",!1),!1}),jQuery("#wp-link-cancel").unbind("click.kopaLink").bind("click.kopaLink",function(e){return e.preventDefault(),c.close("noReset"),l.unbind("click.kopaLink"),l.remove(),jQuery("#wp-link-cancel").unbind("click.kopaLink"),jQuery("#wp-link-close").unbind("click.kopaCloseLink"),window.wpLink.textarea="",!1}),jQuery("#wp-link-close").unbind("click").bind("click.kopaCloseLink",function(e){return e.preventDefault(),c.close("noReset"),l.unbind("click.kopaLink"),l.remove(),jQuery("#wp-link-cancel").unbind("click.kopaLink"),jQuery("#wp-link-close").unbind("click.kopaCloseLink"),window.wpLink.textarea="",!1})})}},Kopa_UI_Group={init:function(){jQuery(document).on("click",".kopa_group .group_nav a",function(e){var a=jQuery(this),i=a.attr("href");a.closest("ul").find(".active").removeClass("active"),a.addClass("active"),jQuery(".kopa_group .group_item.active").removeClass("active");var t=jQuery(".kopa_group "+i);t.addClass("active"),jQuery(document).trigger("kopa_group_active",[t]),e.preventDefault()})}};jQuery(document).ready(function(e){function a(){var a=e(this),o=a.data("layout-section-id"),i=a.val()?a.val():a.find("option:first").val();e("#"+o+"_"+i).show().siblings(".kopa_section_select_area_container").hide(),e("#"+o+"_"+i+"_image").show().siblings(".kopa_section_layout_image").hide()}e(".kopa_section_select_area_container").hide(),e(".kopa_section_layout_image").hide(),e(".kopa_section_select_layout select").each(a),e(".kopa_section_select_layout select").on("change",a)});jQuery(document).ready(function(e){function a(){var a=e(this),i=a.siblings(".kopa_sidebar_add_button");return a.val()?void i.removeClass("kopa_button_inactive"):void i.addClass("kopa_button_inactive")}function i(a){a.preventDefault();var i=e(this),t=i.find(".kopa_sidebar_title_action");t.hasClass("kopa_action_close")?t.removeClass("kopa_action_close"):t.addClass("kopa_action_close"),i.siblings(".kopa_sidebar_body").slideToggle("fast")}function t(a){a.preventDefault();var i=e(this),t=i.parents(".kopa_sidebar_body"),o=t.siblings(".kopa_sidebar_header"),s=o.find(".kopa_sidebar_title_action");t.slideUp("fast"),s.removeClass("kopa_action_close")}function o(a){a.preventDefault();var o=e(this),n=o.siblings(".kopa_sidebar_add_field"),d=n.val(),_=o.data("registered-sidebars")+1,l=o.data("register-sidebar-ids"),c="sidebar-"+_,b=o.data("name"),p=o.data("container-id"),k=e("#"+p),f="";if(!o.hasClass("kopa_button_inactive")&&""!==d){for(;l.search(c)>=0;)_++,c="sidebar-"+_;f='<li class="kopa_sidebar">',f+='<div class="kopa_sidebar_header">',f+='<div class="kopa_sidebar_title_action"></div>',f+="<strong>"+d+"</strong>",f+="</div>",f+='<div class="kopa_sidebar_body">';var u=kopa_sidebar_attributes_l10n.attributes;f+='<label><input class="kopa_sidebar_advanced_settings" type="checkbox"> '+kopa_sidebar_attributes_l10n.advanced_settings+"</label>";for(var v in u)f+='<div class="kopa_sidebar_'+v+'">',f+='<input type="text" class="kopa_sidebar kopa_sidebar_attr" name="'+b+"["+c+"]["+v+']" id="kopa_sidebar_'+_+"_"+v+'" '+("name"===v?'value="'+d+'"':"")+' placeholder="'+u[v]+'">',f+="</div>";f+='<div class="kopa_sidebar_control_actions">',f+='<a class="kopa_sidebar_delete_button" href="#">'+kopa_sidebar_attributes_l10n.remove+"</a>",f+=" | ",f+='<a class="kopa_sidebar_close_button" href="#">'+kopa_sidebar_attributes_l10n.close+"</a>",f+='<span class="spinner"></span>',f+="</div>",f+="</div>",f+="</li>",k.append(f);var m=k.children("li:last");viewportTop=e(window).scrollTop(),viewportBottom=e(window).scrollTop()+e(window).height(),sidebarBounds=m.offset(),$newElementHeader=m.children(".kopa_sidebar_header"),$newElementBody=m.children(".kopa_sidebar_body"),$newElementTitleAction=m.find(".kopa_sidebar_title_action"),$newElementCloseButton=m.find(".kopa_sidebar_close_button"),$newElementDeleteButton=m.find(".kopa_sidebar_delete_button"),$newElementAdvancedButton=m.find(".kopa_sidebar_advanced_settings"),$newElementTitleAction.addClass("kopa_action_close"),viewportBottom<sidebarBounds.top?e("html, body").animate({scrollTop:m.offset().top-130},{duration:200,complete:function(){$newElementBody.slideDown("fast")}}):$newElementBody.slideDown("fast"),o.data("registered-sidebars",_),n.val(""),o.addClass("kopa_button_inactive"),$newElementHeader.on("click",i),$newElementCloseButton.on("click",t),$newElementDeleteButton.on("click",s),$newElementAdvancedButton.on("click",r)}}function s(a){a.preventDefault();var i=e(this),t=i.data("sidebar-id"),o="<strong>"+kopa_sidebar_attributes_l10n.confirm_message+"</strong>";t?e.ajax({url:kopa_sidebar_attributes_l10n.ajax_url,type:"POST",data:{action:"kopa_remove_sidebar",sidebar_id:t},beforeSend:function(){i.siblings(".spinner").show()},success:function(a){i.siblings(".spinner").hide(),a=e.parseJSON(a);var t=a.allow_delete,s=a.warnings,d=a.errors,r="";t?(s.push(o),r=s.join("<br>"),n("confirm",i,kopa_sidebar_attributes_l10n.warning,r)):(r+=d.join("<br>"),n("alert",i,kopa_sidebar_attributes_l10n.error,r))}}):n("confirm",i,kopa_sidebar_attributes_l10n.info,o)}function n(a,i,t,o){var s=e("#kopa_modal_info"),n=s.find("#kopa_modal_confirm"),r=n.find("#kopa_confirm_ok"),_=n.find("#kopa_confirm_cancel");"confirm"!=a?n.hide():n.show(),s.find(".kopa_modal_info").empty().append(o),tb_show(t,"#TB_inline?width=450&height=420&inlineId=kopa_modal_info"),r.off("click",d).on("click",{allowDelete:!0,selector:i},d),_.off("click",d).on("click",{allowDelete:!1,selector:i},d)}function d(a){a.preventDefault();var i=a.data.allowDelete,t=a.data.selector;i&&t.parents(".kopa_sidebar").slideUp("fast",function(){e(this).remove()}),tb_remove()}function r(){var a=e(this);a.parent().siblings(".kopa_sidebar_before_widget, .kopa_sidebar_after_widget, .kopa_sidebar_before_title, .kopa_sidebar_after_title").slideToggle("fast")}e(".kopa_sidebar_sortable").sortable({handle:".kopa_sidebar_header"}),e(".kopa_sidebar_add_field").on("keyup",a),e(".kopa_sidebar_add_button").on("click",o),e(".kopa_sidebar_header").on("click",i),e(".kopa_sidebar_close_button").on("click",t),e(".kopa_sidebar_delete_button").on("click",s),e(".kopa_sidebar_advanced_settings").on("click",r)});jQuery(document).ready(function(t){function e(){t(".kopa_tab_pane").hide();var e="";"undefined"!=typeof localStorage&&(e=localStorage.getItem("kopa_active_tab")),""!=e&&t(e).length?(t(e+"_tab").addClass("kopa_nav_active"),t(e).show()):(t(".kopa_nav_tabs li").first().addClass("kopa_nav_active"),t(".kopa_tab_pane").first().show()),t(".kopa_nav_tabs li a").on("click",function(t){t.preventDefault()}),t(".kopa_nav_tabs li").on("click",function(){var e=t(this),o=e.children(".kopa_nav_title"),a=t(o.attr("href"));"undefined"!=typeof localStorage&&localStorage.setItem("kopa_active_tab",o.attr("href")),e.addClass("kopa_nav_active").siblings().removeClass("kopa_nav_active"),a.show().siblings().hide()})}function o(e,o){var n=t("#"+o).val(),i="kopa_style_link_"+o,s=o+"_preview",l=o+"_style",r="kopa_typeface_"+t("#"+o).parents(".kopa_section").attr("id"),_=void 0,u=!1,d=!1,m=!1;if(kopa_system_fonts.indexOf(n)>=0?u=!0:kopa_google_font_families.indexOf(n)>=0?d=!0:p.indexOf(n)>=0&&(m=!0),m){var v=n,k="",h=p.indexOf(n),y=f[h],g=y.woff,w=y.ttf,b=y.svg,I=y.eot,j="";return t("#"+l).attr("disabled","disabled"),t("#"+s).fadeIn(),j+='<style class="'+r+'">\n',j+="@font-face {\n",j+='font-family: "'+v+'";\n',j+="src: ",I&&(j+='url("'+I+'");\n',j+='src: url("'+I+'?#iefix") format("embedded-opentype")'),g&&I?j+=',\nurl("'+g+'") format("woff")':g&&(j+='url("'+g+'") format("woff")'),w&&(g||I)?j+=',\nurl("'+w+'") format("truetype")':w&&(j+='url("'+w+'") format("truetype")'),b?t.get(b,function(e){k=t(e).find("font").attr("id"),j+=w||g||I?',\nurl("'+b+"#"+k+'") format("svg")':'url("'+b+"#"+k+'") format("svg")',j+=";\n",j+="}\n",j+="</style>\n",t("."+r).remove(),t("head").append(j),t("#"+s).css("font-family",'"'+v+'"').css("font-style","").css("font-weight","")}):(j+=";\n",j+="}\n",j+="</style>\n",t("."+r).remove(),t("head").append(j),t("#"+s).css("font-family",'"'+v+'"').css("font-style","").css("font-weight","")),void 0}if(t("#"+l).removeAttr("disabled"),t(e).attr("id")===o&&d){var h=kopa_google_font_families.indexOf(n);h>=0&&(_=kopa_google_fonts[h],_.category&&(c=_.category))}if(n)if(t("#"+s).fadeIn(),"none"!==n&&"Select a font"!==n)if(u){var x=t("#"+l).val();if(t(e).attr("id")===o){t("#"+l+" option").remove();var C=["regular","italic","bold","bolditalic"],Q="";for(var h in C)Q=a(C[h]),Q&&t("#"+l).append('<option value="'+C[h]+'">'+Q+"</option>");x&&C.indexOf(x)>=0?t("#"+l).val(x).find('option[value="'+x+'"]').attr("selected","selected"):C.indexOf("regular")>=0?(x="regular",t("#"+l).val("regular").find('option[value="regular"]').attr("selected","selected")):(x=C[0],t("#"+l).val(x).find("option:first").attr("selected","selected"))}"regular"===x&&(x="normal"),t("#"+s).css("font-family",n),t("#"+s).css("font-weight",x.replace("italic","")),x.indexOf("italic")>=0?t("#"+s).css("font-style","italic"):t("#"+s).css("font-style","normal")}else{t("."+i).remove();var O=n.replace(/\s+/g,"+"),x=t("#"+l).val();if(void 0!==_){t("#"+l+" option").remove();var C=_.variants,Q="";for(var h in C)Q=a(C[h]),Q&&t("#"+l).append('<option value="'+C[h]+'">'+Q+"</option>");x&&C.indexOf(x)>=0?t("#"+l).val(x).find('option[value="'+x+'"]').attr("selected","selected"):C.indexOf("regular")>=0?(x="regular",t("#"+l).val("regular").find('option[value="regular"]').attr("selected","selected")):(x=C[0],t("#"+l).val(x).find("option:first").attr("selected","selected"))}"regular"===x&&(x="400"),t("head").append('<link href="http://fonts.googleapis.com/css?family='+O+":"+x+'" rel="stylesheet" type="text/css" class="'+i+'">'),t("#"+s).css("font-family",n+","+c),t("#"+s).css("font-weight",x.replace("italic","")),x.indexOf("italic")>=0?t("#"+s).css("font-style","italic"):t("#"+s).css("font-style","normal")}else t("#"+s).css("font-family",""),t("#"+s).fadeOut()}function a(t){var e={};for(var o in kopa_font_styles)if(e=kopa_font_styles[o],e.style===t)return e.label;return!1}function n(t,e){var o=jQuery(t),a=o.val(),n=e+"_preview";jQuery("#"+n).css("font-size",a+"px")}function i(){var t=jQuery(this),e=t.data("main-id");if(void 0!==e){var o=t.val()?t.val():t.data("default-color"),a=e+"_preview";o?jQuery("#"+a).css("color",o):jQuery("#"+a).css("color","inherit")}}function s(){var e=t(this),o=e.parents(".kopa_controls"),a=o.find(".kopa_custom_font_list"),n=(o.find(".kopa_custom_font_item"),e.data("name")),i=e.data("orders").toString(),s=[];itemCount=0,newItem="",""!==i&&(s=i.split(","),s=t.map(s,function(t){return parseInt(t)})),s.length&&(itemCount=Math.max.apply(null,s),itemCount+=1),s.push(itemCount),i=s.join(","),e.data("orders",i),s=a.find(".kopa_custom_font_order").map(function(){var t=this.value;return t=t.replace(/\D/g,""),t=parseFloat(t)}).get(),newItem+='<div class="kopa_custom_font_item">',newItem+='<div class="kopa_custom_font_top">',newItem+='<div class="kopa_custom_font_title_action">',newItem+="</div>",newItem+='<div class="kopa_custom_font_title">',newItem+="<strong>Custom Font "+(itemCount+1)+"</strong>",newItem+="</div>",newItem+="</div>",newItem+='<div class="kopa_custom_font_inside kopa_hide">';for(var c in kopa_custom_font_attributes){var f=kopa_custom_font_attributes[c],p="kopa_custom_font_item_"+c,u=!1,d="",m="";"name"===c&&f.value&&(m=f.value+" "+(itemCount+1)),"upload"===f.type&&(p+=" kopa_upload"),f.required&&(u=!0),f.mimes&&(d=f.mimes),newItem+='<div class="kopa_section"><div class="kopa_controls">',newItem+='<input class="'+p+'" type="text" name="'+n+"["+itemCount+"]["+c+']" placeholder="'+f.placeholder+'" '+(u?"required ":"")+'data-type="'+d+'" value="'+m+'">',"upload"===f.type&&(newItem+='<input class="kopa_upload_button kopa_button button" type="button" value="'+kopa_admin_l10n.upload+'">'),newItem+="</div></div>"}newItem+='<div class="kopa_custom_font_control_actions">',newItem+='<a class="kopa_custom_font_remove" href="#">'+kopa_sidebar_attributes_l10n.remove+"</a>",newItem+=" | ",newItem+='<a class="kopa_custom_font_close" href="#">'+kopa_sidebar_attributes_l10n.close+"</a>",newItem+="</div>",newItem+="</div>",newItem+="</div>",a.append(newItem);var v=a.children(".kopa_custom_font_item:last"),k=v.find(".kopa_custom_font_title_action");k.addClass("kopa_action_close"),v.children(".kopa_custom_font_inside").slideDown("fast"),v.on("click",".kopa_custom_font_top",l),v.on("click",".kopa_custom_font_close",r),v.on("click",".kopa_custom_font_remove",_)}function l(){var e=t(this),o=e.find(".kopa_custom_font_title_action"),a=e.siblings(".kopa_custom_font_inside");o.hasClass("kopa_action_close")?o.removeClass("kopa_action_close"):o.addClass("kopa_action_close"),a.slideToggle("fast")}function r(e){e.preventDefault();var o=t(this),a=o.parents(".kopa_custom_font_inside"),n=a.siblings(".kopa_custom_font_top"),i=n.find(".kopa_custom_font_title_action");i.removeClass("kopa_action_close"),a.slideUp("fast")}function _(e){e.preventDefault();var o=t(this),a=o.parents(".kopa_custom_font_item");confirm(kopa_admin_l10n.confirm_delete)&&a.slideUp("fast",function(){a.remove()})}Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var o;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),n=a.length>>>0;if(0===n)return-1;var i=+e||0;if(1/0===Math.abs(i)&&(i=0),i>=n)return-1;for(o=Math.max(i>=0?i:n-Math.abs(i),0);n>o;){if(o in a&&a[o]===t)return o;o++}return-1}),jQuery(".kopa_fold").click(function(){var e=".kopa_fold_"+this.id;t(e).slideToggle("fast")}),setTimeout(function(){t(".kopa_message.updated.fade, .kopa_message.error.fade").fadeOut("slow")},3e3),t(".kopa_color").wpColorPicker(),t(".kopa_nav_title").length>0&&e(),t("#kopa_options_wrap .kopa_sidebar_menu_mobile_icon").on("click",function(){t("#kopa_options_wrap ul.kopa_nav_tabs").toggle()}),t(window).resize(function(){t(this).width()>980&&t("#kopa_options_wrap ul.kopa_nav_tabs").show().removeAttr("style")});var c="sans-serif",f=[],p=[];jQuery(".kopa_custom_font_item").each(function(){var t=jQuery(this),e=t.find(".kopa_custom_font_item_name").val(),o=t.find(".kopa_custom_font_item_woff").val(),a=t.find(".kopa_custom_font_item_ttf").val(),n=t.find(".kopa_custom_font_item_svg").val(),i=t.find(".kopa_custom_font_item_eot").val();f.push({woff:o,ttf:a,svg:n,eot:i}),p.push(e)}),jQuery(".kopa_select_font, .kopa_select_font_style").each(function(){var t=jQuery(this).data("main-id");o(this,t)}),jQuery(".kopa_select_font, .kopa_select_font_style").change(function(){var t=jQuery(this).data("main-id");o(this,t)}),jQuery(".kopa_select_font_size").each(function(){var t=jQuery(this).data("main-id");n(this,t)}),jQuery(".kopa_select_font_size").on("keyup change",function(){var t=jQuery(this).data("main-id");n(this,t)}),jQuery(".kopa_select_font_color").wpColorPicker({change:i,clear:i,palettes:!1}),jQuery(".kopa_select_font_color").each(i),t(".kopa_custom_font_list").sortable({items:".kopa_custom_font_item",handle:".kopa_custom_font_top"}),t(".kopa_add_font_button").on("click",s),t(".kopa_custom_font_top").on("click",l),t(".kopa_custom_font_close").on("click",r),t(".kopa_custom_font_remove").on("click",_),t(".kopa_reset").on("click",function(){return confirm(kopa_admin_l10n.confirm_reset)}),t(".kopa_import").on("click",function(){return confirm(kopa_admin_l10n.confirm_import)})});jQuery(document).ready(function(e){function o(){this.checked?e(".kopa_section_group_layout").find("select").removeAttr("disabled"):e(".kopa_section_group_layout").find("select").attr("disabled","disabled")}e(".kopa_use_custom_layout").each(o),e(".kopa_use_custom_layout").on("click",o)});(function(){var t,e,s,i,r,o={}.hasOwnProperty,n=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,r,o,n;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,n=[],i=0,r=o.length;r>i;i++)s=o[i],n.push(this.add_option(s,e,t.disabled));return n},t.prototype.add_option=function(t,e,s){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:s===!0?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,s;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(s,function(t){return e[t]||"&amp;"})):t},t}(),i.select_to_array=function(t){var e,s,r,o,n;for(s=new i,n=t.childNodes,r=0,o=n.length;o>r;r++)e=n[r],s.add_node(e);return s.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,s,i,r,o,n,l;for(e="",r=0,l=this.results_data,o=0,n=l.length;n>o&&(s=l[o],i="",i=s.group?this.result_add_group(s):this.result_add_option(s),""!==i&&(r++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(r>=this.max_shown_results));o++);return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.style.cssText=t.style,s.setAttribute("data-option-array-index",t.array_index),s.innerHTML=t.search_text,t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.innerHTML=t.search_text,t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,s,i,r;for(i=this.results_data,r=[],e=0,s=i.length;s>e;e++)t=i[e],r.push(t.selected?t.selected=!1:void 0);return r},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,s,i,r,o,n,l,h,c,a,_;for(this.no_results_clear(),i=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h=new RegExp(t,"i"),s=this.get_search_regex(t),_=this.results_data,c=0,a=_.length;a>c;c++)e=_[c],e.search_match=!1,r=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(r=this.results_data[e.group_array_index],0===r.active_options&&r.search_match&&(i+=1),r.active_options+=1),e.search_text=e.group?e.label:e.html,(!e.group||this.group_search)&&(e.search_match=this.search_string_match(e.search_text,s),e.search_match&&!e.group&&(i+=1),e.search_match?(o.length&&(n=e.search_text.search(h),l=e.search_text.substr(0,n+o.length)+"</em>"+e.search_text.substr(n+o.length),e.search_text=l.substr(0,n)+"<em>"+l.substr(n)),null!=r&&(r.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>i&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,s;return e=this.search_contains?"":"^",s=this.case_sensitive_search?"":"i",new RegExp(e+t,s)},t.prototype.search_string_match=function(t,e){var s,i,r,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,o=i.length;o>r;r++)if(s=i[r],e.test(s))return!0},t.prototype.choices_count=function(){var t,e,s,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,e=0,s=i.length;s>e;e++)t=i[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:t.empty?!1:!0},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent)?!1:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(){var e,r;return e=t(this),r=e.data("chosen"),"destroy"===i?void(r instanceof s&&r.destroy()):void(r instanceof s||e.data("chosen",new s(this,i)))}):this}}),s=function(e){function s(){return r=s.__super__.constructor.apply(this,arguments)}return n(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var e,s;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),s={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",s),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},s.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){var s;return s=t(e.target).closest(".chosen-container"),s.length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,s,i,r,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(o>s)return this.search_results.scrollTop(s)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},s.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var s;return s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s.length?(this.result_highlight=s,this.result_select(e),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(e){var s;return s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s?this.result_do_highlight(s):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(e){var s,i,r=this;return s=t("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?s.addClass("search-choice-disabled"):(i=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),i.bind("click.chosen",function(t){return r.choice_destroy_link_click(t)}),s.append(i)),this.search_container.before(s)},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,s;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),s=this.results_data[e[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())):void 0},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},s.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},s.prototype.no_results=function(e){var s;return s=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),s.find("span").first().html(e),this.search_results.append(s),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,s,i,r,o,n,l,h,c;if(this.is_multiple){for(i=0,l=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",n=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,c=n.length;c>h;h++)r=n[h],o+=r+":"+this.search_field.css(r)+";";return e=t("<div />",{style:o}),e.text(this.search_field.val()),t("body").append(e),l=e.width()+25,e.remove(),s=this.container.outerWidth(),l>s-10&&(l=s-10),this.search_field.css({width:l+"px"})}},s}(e)}).call(this);!function(e){e.fn.repeatable=function(t){var n={addTrigger:".add",deleteTrigger:".delete",max:null,startWith:0,template:null,itemContainer:".field-group",beforeAdd:function(){},afterAdd:function(){},beforeDelete:function(){},afterDelete:function(){}},r=0,i=e(this),a=e.extend({},n,t),l=function(){return e(i).find(a.itemContainer).length}(),d=function(e){e.preventDefault(),a.beforeAdd.call(this),o(),a.afterAdd.call(this)},f=function(t){t.preventDefault(),a.beforeDelete.call(this),e(this).parents(a.itemContainer).first().remove(),l--,u(),a.afterDelete.call(this)},o=function(){c().appendTo(i),l++,u()},c=function(){var t=e(a.template).html();return t=t.replace(/{\?}/g,"new"+r++),t=t.replace(/\{[^\?\}]*\}/g,""),e(t)},u=function(){a.max&&(l===a.max?e(a.addTrigger).attr("disabled","disabled"):l<a.max&&e(a.addTrigger).removeAttr("disabled"))};!function(){if(e(a.addTrigger).on("click",d),e("form").on("click",a.deleteTrigger,f),!l)for(var t=a.startWith-l,n=0;t>n;n++)o()}()}}(jQuery);!function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","Ça","Ç","Ca","C","Ş"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeek:["нед","пон","вто","сре","чет","пет","саб"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeek:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeek:["Ne","Po","Ut","St","Št","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","čet","Pet","Sub"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeek:["нед","пон","уто","сре","чет","пет","суб"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeek:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,a;for(n=t||0,a=this.length;a>n;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n,a,r,o,s,i=e(this),u=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(n.x=e.clientX,n.y=e.clientY),n},d=100,l=!1,c=0,f=0,m=0,h=!1,g=0,p=function(){};return"hide"===t?void i.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(n=i.children().eq(0),a=i[0].clientHeight,r=n[0].offsetHeight,o=e('<div class="xdsoft_scrollbar"></div>'),s=e('<div class="xdsoft_scroller"></div>'),o.append(s),i.addClass("xdsoft_scroller_box").append(o),p=function(e){var t=u(e).y-c+g;0>t&&(t=0),t+s[0].offsetHeight>m&&(t=m-s[0].offsetHeight),i.trigger("scroll_element.xdsoft_scroller",[d?t/d:0])},s.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){a||i.trigger("resize_scroll.xdsoft_scroller",[t]),c=u(n).y,g=parseInt(s.css("margin-top"),10),m=o[0].offsetHeight,"mousedown"===n.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function r(){e([document.body,window]).off("mouseup.xdsoft_scroller",r).off("mousemove.xdsoft_scroller",p).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",p)):(h=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(e){h&&(e.preventDefault(),p(e))}).on("touchend touchcancel",function(){h=!1,g=0}),i.on("scroll_element.xdsoft_scroller",function(e,t){a||i.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,s.css("margin-top",d*t),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-a)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,u){var l,c;a=i[0].clientHeight,r=n[0].offsetHeight,l=a/r,c=l*o[0].offsetHeight,l>1?s.hide():(s.show(),s.css("height",parseInt(c>10?c:10,10)),d=o[0].offsetHeight-s[0].offsetHeight,u!==!0&&i.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(r-a)]))}),i.on("mousewheel",function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return t-=20*e.deltaY,0>t&&(t=0),i.trigger("scroll_element.xdsoft_scroller",[t/(r-a)]),e.stopPropagation(),!1}),i.on("touchstart",function(e){l=u(e),f=Math.abs(parseInt(n.css("marginTop"),10))}),i.on("touchmove",function(e){if(l){e.preventDefault();var t=u(e);i.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-l.y))/(r-a)])}}),i.on("touchend touchcancel",function(){l=!1,f=0})),void i.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(n){var a,r,o,s=48,i=57,u=96,d=105,l=17,c=46,f=13,m=27,h=8,g=37,p=38,x=39,y=40,D=9,v=116,b=65,T=67,k=86,w=90,M=89,S=!1,O=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend(!0,{},t),_=0,F=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker")||(clearTimeout(_),_=setTimeout(function(){e.data("xdsoft_datetimepicker")||a(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})};return a=function(t){function a(){var e,n=!1;return O.startDate?n=o.strToDate(O.startDate):(n=O.value||(t&&t.val&&t.val()?t.val():""),n?n=o.strToDateTime(n):O.defaultDate&&(n=o.strToDate(O.defaultDate),O.defaultTime&&(e=o.strtotime(O.defaultTime),n.setHours(e.getHours()),n.setMinutes(e.getMinutes())))),n&&o.isValidDate(n)?W.data("changed",!0):n="",n||0}var r,_,F,A,Y,W=e("<div "+(O.id?'id="'+O.id+'"':"")+" "+(O.style?'style="'+O.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_'+O.theme+" xdsoft_noselect "+(O.weeks?" xdsoft_showweeks":"")+O.className+'"></div>'),C=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),J=e('<div class="xdsoft_datepicker active"></div>'),P=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),I=e('<div class="xdsoft_calendar"></div>'),N=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),H=N.find(".xdsoft_time_box").eq(0),z=e('<div class="xdsoft_time_variant"></div>'),j=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),L=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),R=!1,B=0,V=0;P.find(".xdsoft_month span").after(j),P.find(".xdsoft_year span").after(L),P.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var n,a,r=e(this).find(".xdsoft_select").eq(0),s=0,i=0,u=r.is(":visible");for(P.find(".xdsoft_select").hide(),o.currentTime&&(s=o.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),r[u?"hide":"show"](),n=r.find("div.xdsoft_option"),a=0;a<n.length&&n.eq(a).data("value")!==s;a+=1)i+=n[0].offsetHeight;return r.xdsoftScroller(i/(r.children()[0].offsetHeight-r[0].clientHeight)),t.stopPropagation(),!1}),P.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){var t=o.currentTime.getFullYear();o&&o.currentTime&&o.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),W.trigger("xchange.xdsoft"),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(W,o.currentTime,W.data("input")),t!==o.currentTime.getFullYear()&&e.isFunction(O.onChangeYear)&&O.onChangeYear.call(W,o.currentTime,W.data("input"))}),W.setOptions=function(n){if(O=e.extend(!0,{},O,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(O.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(O.weekends=e.extend(!0,[],n.weekends)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(O.disabledDates=e.extend(!0,[],n.disabledDates)),!O.open&&!O.opened||O.inline||t.trigger("open.xdsoft"),O.inline&&(R=!0,W.addClass("xdsoft_inline"),t.after(W).hide()),O.inverseButton&&(O.next="xdsoft_prev",O.prev="xdsoft_next"),O.datepicker?J.addClass("active"):J.removeClass("active"),O.timepicker?N.addClass("active"):N.removeClass("active"),O.value&&(t&&t.val&&t.val(O.value),o.setCurrentTime(O.value)),O.dayOfWeekStart=isNaN(O.dayOfWeekStart)?0:parseInt(O.dayOfWeekStart,10)%7,O.timepickerScrollbar||H.xdsoftScroller("hide"),O.minDate&&/^-(.*)$/.test(O.minDate)&&(O.minDate=o.strToDateTime(O.minDate).dateFormat(O.formatDate)),O.maxDate&&/^\+(.*)$/.test(O.maxDate)&&(O.maxDate=o.strToDateTime(O.maxDate).dateFormat(O.formatDate)),P.find(".xdsoft_today_button").css("visibility",O.todayButton?"visible":"hidden"),O.mask){var a=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},r=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},_=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)};t.off("keydown.xdsoft"),O.mask===!0&&(O.mask=O.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(O.mask)&&(_(O.mask,t.val())||t.val(O.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var o,F,A=this.value,Y=n.which;if(Y>=s&&i>=Y||Y>=u&&d>=Y||Y===h||Y===c){for(o=a(this),F=Y!==h&&Y!==c?String.fromCharCode(Y>=u&&d>=Y?Y-s:Y):"_",Y!==h&&Y!==c||!o||(o-=1,F="_");/[^0-9_]/.test(O.mask.substr(o,1))&&o<O.mask.length&&o>0;)o+=Y===h||Y===c?-1:1;if(A=A.substr(0,o)+F+A.substr(o+1),""===e.trim(A))A=O.mask.replace(/[0-9]/g,"_");else if(o===O.mask.length)return n.preventDefault(),!1;for(o+=Y===h||Y===c?0:1;/[^0-9_]/.test(O.mask.substr(o,1))&&o<O.mask.length&&o>0;)o+=Y===h||Y===c?-1:1;_(O.mask,A)?(this.value=A,r(this,o)):""===e.trim(A)?this.value=O.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[b,T,k,w,M].indexOf(Y)&&S||-1!==[m,p,y,g,x,v,l,D,f].indexOf(Y))return!0;return n.preventDefault(),!1}))}O.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){O.allowBlank&&!e.trim(e(this).val()).length?(e(this).val(null),W.data("xdsoft_datetime").empty()):Date.parseDate(e(this).val(),O.format)?W.data("xdsoft_datetime").setCurrentTime(e(this).val()):(e(this).val(o.now().dateFormat(O.format)),W.data("xdsoft_datetime").setCurrentTime(e(this).val())),W.trigger("changedatetime.xdsoft")}),O.dayOfWeekStartPrev=0===O.dayOfWeekStart?6:O.dayOfWeekStart-1,W.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},W.data("options",O).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),L.hide(),j.hide(),!1}),H.append(z),H.xdsoftScroller(),W.on("afterOpen.xdsoft",function(){H.xdsoftScroller()}),W.append(J).append(N),O.withoutCopyright!==!0&&W.append(C),J.append(P).append(I),e(O.parentID).append(W),r=function(){var t=this;t.now=function(e){var n,a,r=new Date;return!e&&O.defaultDate&&(n=t.strToDate(O.defaultDate),r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate())),O.yearOffset&&r.setFullYear(r.getFullYear()+O.yearOffset),!e&&O.defaultTime&&(a=t.strtotime(O.defaultTime),r.setHours(a.getHours()),r.setMinutes(a.getMinutes())),r},t.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),W.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){var n,a=t.currentTime.getMonth()+1;return 12===a&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),a=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),a+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(a),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(W,o.currentTime,W.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(O.onChangeYear)&&O.onChangeYear.call(W,o.currentTime,W.data("input")),W.trigger("xchange.xdsoft"),a},t.prevMonth=function(){var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(W,o.currentTime,W.data("input")),W.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var n,a,r=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(r=/^(\+|\-)(.*)$/.exec(e),r&&(r[2]=Date.parseDate(r[2],O.formatDate)),r&&r[2]?(n=r[2].getTime()-6e4*r[2].getTimezoneOffset(),a=new Date(o.now().getTime()+parseInt(r[1]+"1",10)*n)):a=e?Date.parseDate(e,O.format):t.now(),t.isValidDate(a)||(a=t.now()),a)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,O.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,O.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return t.currentTime.dateFormat(O.format)},t.currentTime=this.now()},o=new r,P.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){W.data("changed",!0),o.setCurrentTime(0),W.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(o.str()),W.trigger("close.xdsoft")}),P.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,a=!1;!function r(e){o.currentTime.getMonth();t.hasClass(O.next)?o.nextMonth():t.hasClass(O.prev)&&o.prevMonth(),O.monthChangeSpinner&&(a||(n=setTimeout(r,e||100)))}(500),e([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(n),a=!0,e([document.body,window]).off("mouseup.xdsoft",s)})}),N.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,a=!1,r=110;!function o(e){var s=H[0].clientHeight,i=z[0].offsetHeight,u=Math.abs(parseInt(z.css("marginTop"),10));t.hasClass(O.next)&&i-s-O.timeHeightInTimePicker>=u?z.css("marginTop","-"+(u+O.timeHeightInTimePicker)+"px"):t.hasClass(O.prev)&&u-O.timeHeightInTimePicker>=0&&z.css("marginTop","-"+(u-O.timeHeightInTimePicker)+"px"),H.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(z.css("marginTop"),10)/(i-s))]),r=r>10?10:r-10,a||(n=setTimeout(o,e||r))}(500),e([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(n),a=!0,e([document.body,window]).off("mouseup.xdsoft",s)})}),_=0,W.on("xchange.xdsoft",function(t){clearTimeout(_),_=setTimeout(function(){for(var t,a,r,s,i,u,d,l="",c=new Date(o.currentTime.getFullYear(),o.currentTime.getMonth(),1,12,0,0),f=0,m=o.now(),h=!1,g=!1,p=[],x=!0,y="",D="";c.getDay()!==O.dayOfWeekStart;)c.setDate(c.getDate()-1);for(l+="<table><thead><tr>",O.weeks&&(l+="<th></th>"),t=0;7>t;t+=1)l+="<th>"+O.i18n[O.lang].dayOfWeek[(t+O.dayOfWeekStart)%7]+"</th>";for(l+="</tr></thead>",l+="<tbody>",O.maxDate!==!1&&(h=o.strToDate(O.maxDate),h=new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59,999)),O.minDate!==!1&&(g=o.strToDate(O.minDate),g=new Date(g.getFullYear(),g.getMonth(),g.getDate()));f<o.currentTime.countDaysInMonth()||c.getDay()!==O.dayOfWeekStart||o.currentTime.getMonth()===c.getMonth();)p=[],f+=1,a=c.getDate(),r=c.getFullYear(),s=c.getMonth(),i=o.getWeekOfYear(c),p.push("xdsoft_date"),u=O.beforeShowDay&&e.isFunction(O.beforeShowDay.call)?O.beforeShowDay.call(W,c):null,h!==!1&&c>h||g!==!1&&g>c||u&&u[0]===!1?p.push("xdsoft_disabled"):-1!==O.disabledDates.indexOf(c.dateFormat(O.formatDate))&&p.push("xdsoft_disabled"),u&&""!==u[1]&&p.push(u[1]),o.currentTime.getMonth()!==s&&p.push("xdsoft_other_month"),(O.defaultSelect||W.data("changed"))&&o.currentTime.dateFormat(O.formatDate)===c.dateFormat(O.formatDate)&&p.push("xdsoft_current"),m.dateFormat(O.formatDate)===c.dateFormat(O.formatDate)&&p.push("xdsoft_today"),(0===c.getDay()||6===c.getDay()||-1===O.weekends.indexOf(c.dateFormat(O.formatDate)))&&p.push("xdsoft_weekend"),O.beforeShowDay&&e.isFunction(O.beforeShowDay)&&p.push(O.beforeShowDay(c)),x&&(l+="<tr>",x=!1,O.weeks&&(l+="<th>"+i+"</th>")),l+='<td data-date="'+a+'" data-month="'+s+'" data-year="'+r+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+" "+p.join(" ")+'"><div>'+a+"</div></td>",c.getDay()===O.dayOfWeekStartPrev&&(l+="</tr>",x=!0),c.setDate(a+1);if(l+="</tbody></table>",I.html(l),P.find(".xdsoft_label span").eq(0).text(O.i18n[O.lang].months[o.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(o.currentTime.getFullYear()),y="",D="",s="",d=function(e,t){var n=o.now();n.setHours(e),e=parseInt(n.getHours(),10),n.setMinutes(t),t=parseInt(n.getMinutes(),10),p=[],(O.maxTime!==!1&&o.strtotime(O.maxTime).getTime()<n.getTime()||O.minTime!==!1&&o.strtotime(O.minTime).getTime()>n.getTime())&&p.push("xdsoft_disabled"),(O.initTime||O.defaultSelect||W.data("changed"))&&parseInt(o.currentTime.getHours(),10)===parseInt(e,10)&&(O.step>59||Math[O.roundTime](o.currentTime.getMinutes()/O.step)*O.step===parseInt(t,10))&&(O.defaultSelect||W.data("changed")?p.push("xdsoft_current"):O.initTime&&p.push("xdsoft_init_time")),parseInt(m.getHours(),10)===parseInt(e,10)&&parseInt(m.getMinutes(),10)===parseInt(t,10)&&p.push("xdsoft_today"),y+='<div class="xdsoft_time '+p.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+n.dateFormat(O.formatTime)+"</div>"},O.allowTimes&&e.isArray(O.allowTimes)&&O.allowTimes.length)for(f=0;f<O.allowTimes.length;f+=1)D=o.strtotime(O.allowTimes[f]).getHours(),s=o.strtotime(O.allowTimes[f]).getMinutes(),d(D,s);else for(f=0,t=0;f<(O.hours12?12:24);f+=1)for(t=0;60>t;t+=O.step)D=(10>f?"0":"")+f,s=(10>t?"0":"")+t,d(D,s);for(z.html(y),n="",f=0,f=parseInt(O.yearStart,10)+O.yearOffset;f<=parseInt(O.yearEnd,10)+O.yearOffset;f+=1)n+='<div class="xdsoft_option '+(o.currentTime.getFullYear()===f?"xdsoft_current":"")+'" data-value="'+f+'">'+f+"</div>";for(L.children().eq(0).html(n),f=0,n="";11>=f;f+=1)n+='<div class="xdsoft_option '+(o.currentTime.getMonth()===f?"xdsoft_current":"")+'" data-value="'+f+'">'+O.i18n[O.lang].months[f]+"</div>";j.children().eq(0).html(n),e(W).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(O.timepicker){var e,t,n,a;z.find(".xdsoft_current").length?e=".xdsoft_current":z.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=H[0].clientHeight,n=z[0].offsetHeight,a=z.find(e).index()*O.timeHeightInTimePicker+1,a>n-t&&(a=n-t),H.trigger("scroll_element.xdsoft_scroller",[parseInt(a,10)/(n-t)])):H.trigger("scroll_element.xdsoft_scroller",[0])}}),F=0,I.on("click.xdsoft","td",function(n){n.stopPropagation(),F+=1;var a=e(this),r=o.currentTime;return(void 0===r||null===r)&&(o.currentTime=o.now(),r=o.currentTime),a.hasClass("xdsoft_disabled")?!1:(r.setDate(1),r.setFullYear(a.data("year")),r.setMonth(a.data("month")),r.setDate(a.data("date")),W.trigger("select.xdsoft",[r]),t.val(o.str()),(F>1||O.closeOnDateSelect===!0||0===O.closeOnDateSelect&&!O.timepicker)&&!O.inline&&W.trigger("close.xdsoft"),O.onSelectDate&&e.isFunction(O.onSelectDate)&&O.onSelectDate.call(W,o.currentTime,W.data("input"),n),W.data("changed",!0),W.trigger("xchange.xdsoft"),W.trigger("changedatetime.xdsoft"),void setTimeout(function(){F=0},200))}),z.on("click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),a=o.currentTime;return(void 0===a||null===a)&&(o.currentTime=o.now(),a=o.currentTime),n.hasClass("xdsoft_disabled")?!1:(a.setHours(n.data("hour")),a.setMinutes(n.data("minute")),W.trigger("select.xdsoft",[a]),W.data("input").val(o.str()),O.inline||W.trigger("close.xdsoft"),O.onSelectTime&&e.isFunction(O.onSelectTime)&&O.onSelectTime.call(W,o.currentTime,W.data("input"),t),W.data("changed",!0),W.trigger("xchange.xdsoft"),void W.trigger("changedatetime.xdsoft"))}),J.on("mousewheel.xdsoft",function(e){return O.scrollMonth?(e.deltaY<0?o.nextMonth():o.prevMonth(),!1):!0}),t.on("mousewheel.xdsoft",function(e){return O.scrollInput?!O.datepicker&&O.timepicker?(A=z.find(".xdsoft_current").length?z.find(".xdsoft_current").eq(0).index():0,A+e.deltaY>=0&&A+e.deltaY<z.children().length&&(A+=e.deltaY),z.children().eq(A).length&&z.children().eq(A).trigger("mousedown"),!1):O.datepicker&&!O.timepicker?(J.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(o.str()),W.trigger("changedatetime.xdsoft"),!1):void 0:!0}),W.on("changedatetime.xdsoft",function(t){if(O.onChangeDateTime&&e.isFunction(O.onChangeDateTime)){var n=W.data("input");O.onChangeDateTime.call(W,o.currentTime,n,t),delete O.value,n.trigger("change")}}).on("generate.xdsoft",function(){O.onGenerate&&e.isFunction(O.onGenerate)&&O.onGenerate.call(W,o.currentTime,W.data("input")),R&&(W.trigger("afterOpen.xdsoft"),R=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),A=0,Y=function(){var t=W.data("input").offset(),n=t.top+W.data("input")[0].offsetHeight-1,a=t.left,r="absolute";O.fixed?(n-=e(window).scrollTop(),a-=e(window).scrollLeft(),r="fixed"):(n+W[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=t.top-W[0].offsetHeight+1),0>n&&(n=0),a+W[0].offsetWidth>e(window).width()&&(a=e(window).width()-W[0].offsetWidth)),W.css({left:a,top:n,position:r})},W.on("open.xdsoft",function(t){var n=!0;O.onShow&&e.isFunction(O.onShow)&&(n=O.onShow.call(W,o.currentTime,W.data("input"),t)),n!==!1&&(W.show(),Y(),e(window).off("resize.xdsoft",Y).on("resize.xdsoft",Y),O.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function a(){W.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",a)}))}).on("close.xdsoft",function(t){var n=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),O.onClose&&e.isFunction(O.onClose)&&(n=O.onClose.call(W,o.currentTime,W.data("input"),t)),n===!1||O.opened||O.inline||W.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){W.trigger(W.is(":visible")?"close.xdsoft":"open.xdsoft")}).data("input",t),B=0,V=0,W.data("xdsoft_datetime",o),W.setOptions(O),o.setCurrentTime(a()),t.data("xdsoft_datetimepicker",W).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||t.data("xdsoft_datetimepicker").is(":visible")&&O.closeOnInputClick||(clearTimeout(B),B=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(R=!0,o.setCurrentTime(a()),W.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n,a=(this.value,t.which);return-1!==[f].indexOf(a)&&O.enterLikeTab?(n=e("input:visible,textarea:visible"),W.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[D].indexOf(a)?(W.trigger("close.xdsoft"),!0):void 0})},r=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===l&&(S=!0)
}).on("keyup.xdsoftctrl",function(e){e.keyCode===l&&(S=!1)}),this.each(function(){var t=e(this).data("xdsoft_datetimepicker");if(t){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"toggle":t.trigger("toggle.xdsoft");break;case"destroy":r(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,O.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(n);return 0}"string"!==e.type(n)&&(!O.lazyInit||O.open||O.inline?a(e(this)):F(e(this)))})},e.fn.datetimepicker.defaults=t}(jQuery),function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,i=u.call(arguments,1),d=0,c=0,f=0,m=0,h=0,g=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(f=-1*s.detail),"wheelDelta"in s&&(f=s.wheelDelta),"wheelDeltaY"in s&&(f=s.wheelDeltaY),"wheelDeltaX"in s&&(c=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(c=-1*f,f=0),d=0===f?c:f,"deltaY"in s&&(f=-1*s.deltaY,d=f),"deltaX"in s&&(c=s.deltaX,0===f&&(d=-1*c)),0!==f||0!==c){if(1===s.deltaMode){var p=e.data(this,"mousewheel-line-height");d*=p,f*=p,c*=p}else if(2===s.deltaMode){var x=e.data(this,"mousewheel-page-height");d*=x,f*=x,c*=x}if(m=Math.max(Math.abs(f),Math.abs(c)),(!o||o>m)&&(o=m,a(s,m)&&(o/=40)),a(s,m)&&(d/=40,c/=40,f/=40),d=Math[d>=1?"floor":"ceil"](d/o),c=Math[c>=1?"floor":"ceil"](c/o),f=Math[f>=1?"floor":"ceil"](f/o),l.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();h=t.clientX-y.left,g=t.clientY-y.top}return t.deltaX=c,t.deltaY=f,t.deltaFactor=o,t.offsetX=h,t.offsetY=g,t.deltaMode=0,i.unshift(t,d,c,f),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,i)}}function n(){o=null}function a(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(e.event.fixHooks)for(var d=s.length;d;)e.event.fixHooks[s[--d]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=i.length;n;)this.addEventListener(i[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=i.length;n;)this.removeEventListener(i[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),a=n["offsetParent"in e.fn?"offsetParent":"parent"]();return a.length||(a=e("body")),parseInt(a.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if("unixtime"==e)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return String.leftPad(Math.ceil((e-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var a=new String(e);for(null==n&&(n=" ");a.length<t;)a=n+a;return a},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}();jQuery(document).ready(function(o){function a(a,e){a.preventDefault();var l=o(this),i=e.find(".kopa_upload"),n=i.data("type"),d=r.indexOf(n),s={title:l.data("choose"),button:{text:l.data("update"),close:!1}};p=e,n&&(-1===d&&r.push(n),s.library={type:n}),kopaframework_modals&&(t=kopaframework_modals[d]),t?t.open():(t=wp.media.frames.kopaframework_upload=wp.media(s),t.on("select",function(){var a=t.state().get("selection").first();t.close(),p.find(".kopa_upload").val(a.attributes.url),"image"==a.attributes.type&&(p.find(".kopa_screenshot").empty().hide().removeClass("kopa_hide").append('<img src="'+a.attributes.url+'"><a class="kopa_remove_image">'+kopa_upload_l10n.remove+"</a>").slideDown("fast"),(o("body").hasClass("widgets-php")||o("body").hasClass("post-php"))&&(p.find("img").css("max-width","100%"),o("<br>").insertBefore(p.find(".kopa_remove_image").addClass("button"))));var e=p.find(".kopa_upload_button").addClass("kopa_remove_file").removeClass("kopa_upload_button");e.text()?e.text(kopa_upload_l10n.remove):e.val()&&e.val(kopa_upload_l10n.remove)}),kopaframework_modals.push(t)),t.open()}function e(a,e){a.preventDefault(),e.find(".kopa_remove_image").hide(),e.find(".kopa_upload").val(""),e.find(".kopa_screenshot").slideUp("fast");var t=e.find(".kopa_remove_file").addClass("kopa_upload_button").removeClass("kopa_remove_file");t.text()?t.text(kopa_upload_l10n.upload):t.val()&&t.val(kopa_upload_l10n.upload),o(".kopa_section_upload .kopa_upload_notice").length>0&&o(".kopa_upload_button").remove()}Array.prototype.indexOf||(Array.prototype.indexOf=function(o,a){var e;if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),p=t.length>>>0;if(0===p)return-1;var r=+a||0;if(Math.abs(r)===1/0&&(r=0),r>=p)return-1;for(e=Math.max(r>=0?r:p-Math.abs(r),0);p>e;){if(e in t&&t[e]===o)return e;e++}return-1});var t,p,r=[];kopaframework_modals=[],o("body").on("click",".kopa_remove_image, .kopa_remove_file",function(a){e(a,o(this).closest(".kopa_section, .kopa-field_upload__outer"))}),o("body").on("click",".kopa_upload_button",function(e){a(e,o(this).closest(".kopa_section, .kopa-field_upload__outer"))})});